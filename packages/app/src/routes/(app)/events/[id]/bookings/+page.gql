query PageEventAllBookings($id: LocalID!, $filter: BookingState!) @loading {
  event(id: $id) {
    canSeeAllBookings(
      assert: "Tu n'a pas les permissions pour voir la liste de réservations. Il faut être manager avec la permission “Scanner les billets”"
    )
    bookingsCounts {
      cancelled
      paid
      total
      unpaidLydias: unpaid(method: Lydia)
      unpaidAll: unpaid
      verified
    }
    profitsBreakdown {
      total
    }
    tickets {
      id
      allowedPaymentMethods
    }
    bookings(first: 30, only: $filter) @paginate {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges @loading(count: 30) {
        node {
          id
          ...PageEventBookings_ItemBooking
        }
      }
    }
  }
}
